---
export interface Props {
  backgroundPatternSrc?: string;
  ctaColor?: string;
  ctaColorActive?: string;
  ctaColorHover?: string;
  href: string;
  text?: string[];
  title: string;
}

const {
  backgroundPatternSrc,
  ctaColor = "var(--color-primary-1-5)",
  ctaColorActive = "var(--color-primary-1-6)",
  ctaColorHover = "var(--color-primary-1-4)",
  href,
  text,
  title,
} = Astro.props;
---

<div
  class:list={[
    "home-page-section",
    { "home-page-section--with-pattern": !!backgroundPatternSrc },
  ]}
>
  <h2 class="home-page-section--title">{title}</h2>

  {text?.map((t) => <p class="home-page-section--text">{t}</p>)}

  <a class="home-page-section--cta" href={href}>Go</a>
</div>

<style
  define:vars={{
    backgroundPatternSrc,
    ctaColor,
    ctaColorActive,
    ctaColorHover,
  }}
>
  .home-page-section {
    align-items: center;
    background-color: var(--color-neutral-0);
    display: flex;
    flex-direction: column;
    gap: var(--spacing-6);
    justify-content: space-between;
    min-block-size: var(--sizing-13);
    padding-block-end: var(--spacing-8);
    padding-block-start: var(--spacing-7);
    padding-inline: var(--app-padding-inline-small);
  }

  .home-page-section--cta {
    align-items: center;
    background-color: var(--ctaColor);
    border-radius: var(--border-radius-1);
    box-shadow: var(--box-shadow-compound-2);
    color: var(--color-neutral-0);
    display: inline-flex;
    font-size: var(--font-size-4);
    justify-content: center;
    margin-block-start: var(--spacing-4);
    min-block-size: var(--sizing-8);
    min-inline-size: var(--sizing-11);
    padding-block: var(--spacing-4);
    padding-inline: var(--spacing-5);
    text-decoration: none;
    transition: background-color var(--transition-duration-1);
  }

  .home-page-section--cta:hover {
    background-color: var(--ctaColorHover);
  }

  .home-page-section--cta:active {
    background-color: var(--ctaColorActive);
    box-shadow: var(--box-shadow-compound-1);
  }

  .home-page-section--text {
    color: var(--color-neutral-6);
    font-size: var(--font-size-4);
    font-weight: var(--font-weight-0);
    max-inline-size: 30em;
  }

  .home-page-section--title {
    font-size: var(--font-size-6);
    text-align: center;
  }

  .home-page-section--with-pattern {
    background-image: linear-gradient(
        0deg,
        transparent 20%,
        var(--color-neutral-0) 45%
      ),
      var(--backgroundPatternSrc);
  }

  @media (min-width: 768px) {
    .home-page-section {
      gap: var(--spacing-7);
      padding-block-start: var(--spacing-8);
      padding-inline: var(--app-padding-inline-large);
    }

    .home-page-section--text {
      font-size: var(--font-size-5);
    }

    .home-page-section--title {
      font-size: var(--font-size-7);
    }
  }
</style>
